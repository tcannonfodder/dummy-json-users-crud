<h1>User Audit Log</h1>

<%= turbo_frame_tag "users" do %>
  <table>
    <thead>
      <tr>
        <th></th>
        <th>Status</th>
        <th>Name</th>
        <th>Email</th>
        <th>Domain</th>
        <th>IP Address</th>
        <th>MAC Address</th>
        <th></th>
      </tr>
    </thead>

    <%= render partial: "user_table_row", collection: @users, as: :user, cache: true %>
  </table>
<% end %>

<%= form_with url: users_url, method: :get do |f| %>
  <% if @pagination_calculator.has_previous_page? %>
    <%= f.button type: "submit", name: "page", value: 1 do %>
      First
    <% end %>

    <%= f.button type: "submit", name: "page", value: @pagination_calculator.previous_page do %>
      Previous
    <% end %>
  <% end %>

  <%= f.label "Page", for: "page-goto" %>
  <%= f.text_field :page, value: @pagination_calculator.current_page, id: "page-goto" %>
  of <%= @pagination_calculator.last_page_number %>
  <%= f.button "Go", name: nil, type: "submit" %>

  <% if @pagination_calculator.has_next_page? %>
    <%= f.button type: "submit", name: "page", value: @pagination_calculator.next_page do %>
      Next
    <% end %>

    <%= f.button type: "submit", name: "page", value: @pagination_calculator.last_page_number do %>
      Last
    <% end %>
  <% end %>
<% end %>